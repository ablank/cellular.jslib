!function(a,b){var c="undefined"!=typeof module&&module.exports&&"undefined"!=typeof b?b:this||window;(c._gsQueue||(c._gsQueue=[])).push(function(){"use strict";var a=/(\d|\.)+/g,b,d,e=["redMultiplier","greenMultiplier","blueMultiplier","alphaMultiplier","redOffset","greenOffset","blueOffset","alphaOffset"],f={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},g=function(b){return""===b||null==b||"none"===b?f.transparent:f[b]?f[b]:"number"==typeof b?[b>>16,b>>8&255,255&b]:"#"===b.charAt(0)?(4===b.length&&(b="#"+b.charAt(1)+b.charAt(1)+b.charAt(2)+b.charAt(2)+b.charAt(3)+b.charAt(3)),b=parseInt(b.substr(1),16),[b>>16,b>>8&255,255&b]):b.match(a)||f.transparent},h=function(a,d,f){if(!b&&(b=c.ColorFilter||c.createjs.ColorFilter,!b))throw"EaselPlugin error: The EaselJS ColorFilter JavaScript file wasn't loaded.";for(var h=a.filters||[],i=h.length,j,k,l,m,n;--i>-1;)if(h[i]instanceof b){k=h[i];break}if(k||(k=new b,h.push(k),a.filters=h),l=k.clone(),null!=d.tint)j=g(d.tint),m=null!=d.tintAmount?Number(d.tintAmount):1,l.redOffset=Number(j[0])*m,l.greenOffset=Number(j[1])*m,l.blueOffset=Number(j[2])*m,l.redMultiplier=l.greenMultiplier=l.blueMultiplier=1-m;else for(n in d)"exposure"!==n&&"brightness"!==n&&(l[n]=Number(d[n]));for(null!=d.exposure?(l.redOffset=l.greenOffset=l.blueOffset=255*(Number(d.exposure)-1),l.redMultiplier=l.greenMultiplier=l.blueMultiplier=1):null!=d.brightness&&(m=Number(d.brightness)-1,l.redOffset=l.greenOffset=l.blueOffset=m>0?255*m:0,l.redMultiplier=l.greenMultiplier=l.blueMultiplier=1-Math.abs(m)),i=8;--i>-1;)n=e[i],k[n]!==l[n]&&f._addTween(k,n,k[n],l[n],"easel_colorFilter");if(f._overwriteProps.push("easel_colorFilter"),!a.cacheID)throw"EaselPlugin warning: for filters to display in EaselJS, you must call the object's cache() method first. "+a},i=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],j=.212671,k=.71516,l=.072169,m=function(a,b){if(!(a instanceof Array&&b instanceof Array))return b;var c=[],d=0,e=0,f,g;for(f=0;f<4;f++){for(g=0;g<5;g++)e=4===g?a[d+4]:0,c[d+g]=a[d]*b[g]+a[d+1]*b[g+5]+a[d+2]*b[g+10]+a[d+3]*b[g+15]+e;d+=5}return c},n=function(a,b){if(isNaN(b))return a;var c=1-b,d=c*j,e=c*k,f=c*l;return m([d+b,e,f,0,0,d,e+b,f,0,0,d,e,f+b,0,0,0,0,0,1,0],a)},o=function(a,b,c){isNaN(c)&&(c=1);var d=g(b),e=d[0]/255,f=d[1]/255,h=d[2]/255,i=1-c;return m([i+c*e*j,c*e*k,c*e*l,0,0,c*f*j,i+c*f*k,c*f*l,0,0,c*h*j,c*h*k,i+c*h*l,0,0,0,0,0,1,0],a)},p=function(a,b){if(isNaN(b))return a;b*=Math.PI/180;var c=Math.cos(b),d=Math.sin(b);return m([j+c*(1-j)+d*-j,k+c*-k+d*-k,l+c*-l+d*(1-l),0,0,j+c*-j+.143*d,k+c*(1-k)+.14*d,l+c*-l+d*-.283,0,0,j+c*-j+d*-(1-j),k+c*-k+d*k,l+c*(1-l)+d*l,0,0,0,0,0,1,0,0,0,0,0,1],a)},q=function(a,b){return isNaN(b)?a:(b+=.01,m([b,0,0,0,128*(1-b),0,b,0,0,128*(1-b),0,0,b,0,128*(1-b),0,0,0,1,0],a))},r=function(a,b,e){if(!d&&(d=c.ColorMatrixFilter||c.createjs.ColorMatrixFilter,!d))throw"EaselPlugin error: The EaselJS ColorMatrixFilter JavaScript file wasn't loaded.";for(var f=a.filters||[],g=f.length,h,j,k;--g>-1;)if(f[g]instanceof d){k=f[g];break}for(k||(k=new d(i.slice()),f.push(k),a.filters=f),j=k.matrix,h=i.slice(),null!=b.colorize&&(h=o(h,b.colorize,Number(b.colorizeAmount))),null!=b.contrast&&(h=q(h,Number(b.contrast))),null!=b.hue&&(h=p(h,Number(b.hue))),null!=b.saturation&&(h=n(h,Number(b.saturation))),g=h.length;--g>-1;)h[g]!==j[g]&&e._addTween(j,g,j[g],h[g],"easel_colorMatrixFilter");if(e._overwriteProps.push("easel_colorMatrixFilter"),!a.cacheID)throw"EaselPlugin warning: for filters to display in EaselJS, you must call the object's cache() method first. "+a;e._matrix=j};c._gsDefine.plugin({propName:"easel",priority:-1,version:"0.2.0",API:2,init:function(a,b,c,d){this._target=a;var e,f,g,i,j;for(e in b)j=b[e],"function"==typeof j&&(j=j(d,a)),"colorFilter"===e||"tint"===e||"tintAmount"===e||"exposure"===e||"brightness"===e?g||(h(a,b.colorFilter||b,this),g=!0):"saturation"===e||"contrast"===e||"hue"===e||"colorize"===e||"colorizeAmount"===e?i||(r(a,b.colorMatrixFilter||b,this),i=!0):"frame"===e?(this._firstPT=f={_next:this._firstPT,t:a,p:"gotoAndStop",s:a.currentFrame,f:!0,n:"frame",pr:0,type:0,m:Math.round},f.c="number"==typeof j?j-f.s:"string"==typeof j?parseFloat(j.split("=").join("")):0,f._next&&(f._next._prev=f)):null!=a[e]&&(this._firstPT=f={_next:this._firstPT,t:a,p:e,f:"function"==typeof a[e],n:e,pr:0,type:0},f.s=f.f?a[e.indexOf("set")||"function"!=typeof a["get"+e.substr(3)]?e:"get"+e.substr(3)]():parseFloat(a[e]),f.c="number"==typeof j?j-f.s:"string"==typeof j?parseFloat(j.split("=").join("")):0,f._next&&(f._next._prev=f));return!0},set:function(a){for(var b=this._firstPT,c=1e-6,d;b;)d=b.c*a+b.s,b.m?d=b.m(d,b.t):d<c&&d>-c&&(d=0),b.f?b.t[b.p](d):b.t[b.p]=d,b=b._next;this._target.cacheID&&this._target.updateCache()}})}),c._gsDefine&&c._gsQueue.pop()(),b["true"]=a}({},function(){return this}());