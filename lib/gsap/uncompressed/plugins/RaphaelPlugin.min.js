!function(a,b){var c="undefined"!=typeof module&&module.exports&&"undefined"!=typeof b?b:this||window;(c._gsQueue||(c._gsQueue=[])).push(function(){"use strict";var a=/[^\d\-\.]/g,b=Math.PI/180,d=/(\d|\.)+/g,e={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},f=function(a){return"number"==typeof a?[a>>16,a>>8&255,255&a]:""===a||null==a||"none"===a||"string"!=typeof a?e.transparent:e[a]?e[a]:"#"===a.charAt(0)?(4===a.length&&(a="#"+a.charAt(1)+a.charAt(1)+a.charAt(2)+a.charAt(2)+a.charAt(3)+a.charAt(3)),a=parseInt(a.substr(1),16),[a>>16,a>>8&255,255&a]):a.match(d)||e.transparent},g={scaleX:1,scaleY:1,tx:1,ty:1,rotation:1,shortRotation:1,skewX:1,skewY:1,scale:1},h=function(a,b){var c=a.matrix,d=1e-6,e=c.a,f=c.b,g=c.c,h=c.d,i=b?a._gsTransform||{skewY:0}:{skewY:0},j=i.scaleX<0;return i.tx=c.e-(i.ox||0),i.ty=c.f-(i.oy||0),i.scaleX=Math.sqrt(e*e+f*f),i.scaleY=Math.sqrt(h*h+g*g),i.rotation=e||f?Math.atan2(f,e):i.rotation||0,i.skewX=g||h?Math.atan2(g,h)+i.rotation:i.skewX||0,Math.abs(i.skewX)>Math.PI/2&&(j?(i.scaleX*=-1,i.skewX+=i.rotation<=0?Math.PI:-Math.PI,i.rotation+=i.rotation<=0?Math.PI:-Math.PI):(i.scaleY*=-1,i.skewX+=i.skewX<=0?Math.PI:-Math.PI)),i.rotation<d&&i.rotation>-d&&(e||f)&&(i.rotation=0),i.skewX<d&&i.skewX>-d&&(f||g)&&(i.skewX=0),b&&(a._gsTransform=i),i},i=function(a,b){return null==a?b:"string"==typeof a&&1===a.indexOf("=")?parseInt(a.charAt(0)+"1",10)*Number(a.substr(2))+b:Number(a)},j=function(c,d){var e=c.indexOf("rad")===-1?b:1,f=1===c.indexOf("=");return c=Number(c.replace(a,""))*e,f?c+d:c},k=c._gsDefine.plugin({propName:"raphael",version:"0.2.2",API:2,init:function(b,c,d){if(!b.attr)return!1;this._target=b,this._tween=d,this._props=b._gsProps=b._gsProps||{};var e,h,i,j,k,l,m;for(e in c)i=c[e],"transform"!==e?g[e]||"pivot"===e?this._parseTransform(b,c):(h=b.attr(e),this._firstPT=j={_next:this._firstPT,t:this._props,p:e,b:h,f:!1,n:"raphael_"+e,r:!1,type:0},"fill"===e||"stroke"===e?(k=f(h),l=f(i),j.e=i,j.s=Number(k[0]),j.c=Number(l[0])-j.s,j.gs=Number(k[1]),j.gc=Number(l[1])-j.gs,j.bs=Number(k[2]),j.bc=Number(l[2])-j.bs,k.length>3||l.length>3?(j.as=k.length<4?1:Number(k[3]),j.ac=(l.length<4?1:Number(l[3]))-j.as,j.type=2):j.type=1):(h="string"==typeof h?parseFloat(h.replace(a,"")):Number(h),"string"==typeof i?(m="="===i.charAt(1),i=parseFloat(i.replace(a,""))):m=!1,j.e=i||0===i?m?i+h:i:c[e],!h&&0!==h||!i&&0!==i||!(j.c=m?i:i-h)?(j.type=-1,j.i=c[e],j.s=j.c=0):j.s=h),this._overwriteProps.push("raphael_"+e),j._next&&(j._next._prev=j)):this._parseTransform(b,i);return!0},set:function(a){for(var b=this._firstPT,c;b;)c=b.c*a+b.s,b.r&&(c=Math.round(c)),b.type?1===b.type?b.t[b.p]="rgb("+(c>>0)+", "+(b.gs+a*b.gc>>0)+", "+(b.bs+a*b.bc>>0)+")":2===b.type?b.t[b.p]="rgba("+(c>>0)+", "+(b.gs+a*b.gc>>0)+", "+(b.bs+a*b.bc>>0)+", "+(b.as+a*b.ac)+")":b.type===-1&&(b.t[b.p]=b.i):b.t[b.p]=c,b=b._next;if(this._target.attr(this._props),this._transform){b=this._transform;var d=b.rotation,e=d-b.skewX,f=Math.cos(d)*b.scaleX,g=Math.sin(d)*b.scaleX,h=Math.sin(e)*-b.scaleY,i=Math.cos(e)*b.scaleY,j=1e-6,k=this._pxl,l=this._pyl;g<j&&g>-j&&(g=0),h<j&&h>-j&&(h=0),b.ox=this._pxg-(k*f+l*h),b.oy=this._pyg-(k*g+l*i),this._target.transform("m"+f+","+g+","+h+","+i+","+(b.tx+b.ox)+","+(b.ty+b.oy))}}}),l=k.prototype;l._parseTransform=function(a,c){if(!this._transform){var d=this._transform=h(a,!0),e=1e-6,f,k,l,m,n,o,p,q,r;if("object"==typeof c){if(f={scaleX:i(null!=c.scaleX?c.scaleX:c.scale,d.scaleX),scaleY:i(null!=c.scaleY?c.scaleY:c.scale,d.scaleY),tx:i(c.tx,d.tx),ty:i(c.ty,d.ty)},null!=c.shortRotation){f.rotation="number"==typeof c.shortRotation?c.shortRotation*b:j(c.shortRotation,d.rotation);var s=(f.rotation-d.rotation)%(2*Math.PI);s!==s%Math.PI&&(s+=Math.PI*(s<0?2:-2)),f.rotation=d.rotation+s}else f.rotation=null==c.rotation?d.rotation:"number"==typeof c.rotation?c.rotation*b:j(c.rotation,d.rotation);f.skewX=null==c.skewX?d.skewX:"number"==typeof c.skewX?c.skewX*b:j(c.skewX,d.skewX),f.skewY=null==c.skewY?d.skewY:"number"==typeof c.skewY?c.skewY*b:j(c.skewY,d.skewY),(k=f.skewY-d.skewY)&&(f.skewX+=k,f.rotation+=k),f.skewY<e&&f.skewY>-e&&(f.skewY=0),f.skewX<e&&f.skewX>-e&&(f.skewX=0),f.rotation<e&&f.rotation>-e&&(f.rotation=0),r=c.localPivot||c.globalPivot,"string"==typeof r?(n=r.split(","),o=Number(n[0]),p=Number(n[1])):"object"==typeof r?(o=Number(r.x),p=Number(r.y)):c.localPivot?(n=a.getBBox(!0),o=n.width/2,p=n.height/2):(n=a.getBBox(),o=n.x+n.width/2,p=n.y+n.height/2),c.localPivot?(q=a.matrix,o+=a.attr("x"),p+=a.attr("y"),this._pxl=o,this._pyl=p,this._pxg=o*q.a+p*q.c+q.e-d.tx,this._pyg=o*q.b+p*q.d+q.f-d.ty):(q=a.matrix.invert(),this._pxl=o*q.a+p*q.c+q.e,this._pyl=o*q.b+p*q.d+q.f,this._pxg=o-d.tx,this._pyg=p-d.ty)}else{if("string"!=typeof c)return;n=this._target.transform(),a.transform(c),f=h(a,!1),a.transform(n)}for(l in g)d[l]!==f[l]&&"shortRotation"!==l&&"scale"!==l&&(this._firstPT=m={_next:this._firstPT,t:d,p:l,s:d[l],c:f[l]-d[l],n:l,f:!1,r:!1,b:d[l],e:f[l],type:0},m._next&&(m._next._prev=m),this._overwriteProps.push("raphael_"+l))}}}),c._gsDefine&&c._gsQueue.pop()(),b["true"]=a}({},function(){return this}());